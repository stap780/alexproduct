<%= turbo_frame_tag variant do %>
  <%= form_with(model: variant) do |f| %>
    <%= render "shared/errors", object: variant %>
    <%= f.hidden_field :product_id , value: product_id if f.object.product_id.nil? %>

    <div class="card my-2">
      <div class="card-body">
        <div class="row hstack gap-2">
          <div class="col row">
            <%= f.label :status, class: "form-label" if f.object.new_record?%>
            <%= f.select :status, Variant::STATUS, {:include_blank => "Select"}, {:class => "form-select"} %>
          </div>
          <div class="col-1 row">
            <%= f.label :sku, class: "form-label" if f.object.new_record?%>
            <%= f.text_field :sku, class: "form-control"%>
          </div>
          <div class="col-3 row">
            <%= f.label :title, class: "form-label" if f.object.new_record?%>
            <%= f.text_field :title, class: "form-control"%>
          </div>
          <div class="col-3 row">
            <%= f.label :desc, class: "form-label" if f.object.new_record?%>
            <%= f.text_field :desc, class: "form-control"%>
          </div>
          <div class="col row">
            <%= f.label :period, class: "form-label" if f.object.new_record?%>
            <%= f.select :period, Array(1..30),{:include_blank => "Select"}, {class: "form-select"}%>
          </div>
          <% if variant.images.attached?%>
            <div class="col row">
                <% variant.images.each do |image |%>
                <div class="col-6 p-0">
                    <%= image_tag url_for(image), class: "img-thumbnail" %>
                </div>
                <% end %>
            </div>
          <% end %>
          <div class="col d-flex justify-content-end gap-2 align-items-center">
            <%= f.submit class: "btn btn-primary" %>
            <%# link_to t('back'), products_path, class: "btn btn-outline-primary" %>
            <%= link_to 'Закрыть', :back, class: "btn btn-outline-primary" %>
          </div>
        </div>            
      </div>
    </div>
  <% end %>
<% end %>
